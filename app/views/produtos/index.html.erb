<p id="notice"><%= notice %></p>

<div class="container">
  <div class="page-header">
    <h1>Produtos</h1>
  </div>
  <table class="table table-bordered table-striped">
    <thead>
      <tr class="btn-primary">
        <th>
          <%= form_tag produtos_path, method: :get do %>
            Nome: <%= text_field_tag :nome, nil,
              placeholder: 'Filtrar por nome' %>
            <%= fa_icon "search", class: "fa-lg",
              style: "cursor: pointer;",
              onclick: "$(this).parent('form').submit();" %>
          <% end %>
        </th>
        <th>Descrição</th>
        <th>Quantidade</th>
        <th>Preço</th>
        <th colspan="3">Ações</th>
      </tr>
    </thead>
  
    <tbody>
      <% @produtos.each do |produto| %>
        <tr>
          <td><%= produto.nome %></td>
          <td><%= produto.descricao %></td>
          <td><%= produto.quantidade %></td>
          <td><%= number_to_currency(produto.preco, unit: "R$", separator: ",", delimiter: ".") %></td>
          <td>
            <a data-toggle="modal" data-target="#modalExcluir"
              data-href="${path}/usuario/remover/${usuario.id}">
              <span class="glyphicon glyphicon-remove-circle" aria-hidden="true"></span>
            </a>
          </td>
          <td>
            <%= link_to "", edit_produto_path(produto),
            title: "Editar", class: "fa fa-pencil-square-o fa-lg" %>
          </td>
          <td>
            <%= link_to "", produto, method: :delete,
            title: "Excluir", class: "fa fa-times fa-lg", 
            data: { confirm: "Tem certeza que deseja remover?" } %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
  <%= link_to ' Adicionar Produto', new_produto_path,
      class: "btn btn-lg btn-primary fa fa-plus-circle fa-lg" %>
</div>