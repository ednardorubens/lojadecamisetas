<p id="notice"><%= notice %></p>

<h1>Produtos</h1>
<div class="container">
  <table class="table table-bordered">
    <thead>
      <tr>
        <th>
          <%= form_tag produtos_path, method: :get do %>
            Nome <%= text_field_tag :nome, nil,
              placeholder: 'Filtrar por nome',
              onkeyup: "$(this).parent('form').submit();" %>
          <% end %>
        </th>
        <th>Descricao</th>
        <th>Quantidade</th>
        <th>Preco</th>
        <th colspan="3">Ações</th>
      </tr>
    </thead>
  
    <tbody>
      <% @produtos.each do |produto| %>
        <tr>
          <td><%= produto.nome %></td>
          <td><%= produto.descricao %></td>
          <td><%= produto.quantidade %></td>
          <td><%= produto.preco %></td>
          <td><%= link_to 'Mostrar', produto %></td>
          <td><%= link_to 'Editar', edit_produto_path(produto) %></td>
          <td>
            <%= link_to 'Remover',
            produto, method: :delete, class: "btn btn-danger", 
            data: { confirm: "Tem certeza que deseja remover?" } %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
  <%= link_to 'Criar Produto', new_produto_path %>
</div>